<turbo-frame id="<%= "#{table_key}_table" %>">
  <table class="table">
    <thead>
      <tr>
        <% selected_columns.each do |column| %>
          <th><%= column.humanize %></th>
        <% end %>
      </tr>
    </thead>
    <tbody>
      <% records.each do |sub_task| %>
        <tr id="<%= dom_id(sub_task) %>">
          <% selected_columns.each do |column| %>
            <td>
              <% case column %>
              <% when "name" %>
                <%= sub_task.name %>
              <% when "description" %>
                <%= sub_task.description %>
              <% when "quantity" %>
                <%= sub_task.quantity %>
              <% when "unit_of_measure" %>
                <%= sub_task.unit_of_measure %>
              <% when "planned_start_date" %>
                <%= sub_task.planned_start_date %>
              <% when "planned_end_date" %>
                <%= sub_task.planned_end_date %>
              <% when "price_per_unit" %>
                <%= sub_task.price_per_unit %>
              <% else %>
                <!-- TODO: handle additional columns for sub_tasks -->
              <% end %>
            </td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
</turbo-frame>
