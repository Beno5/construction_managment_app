<%# Global loading overlay with blur effect and spinner %>
<div
  data-loading-target="overlay"
  class="hidden opacity-0 fixed inset-0 z-[9999] flex items-center justify-center transition-opacity duration-200 ease-in-out"
  aria-live="assertive"
  aria-busy="true"
>
  <%# Dark semi-transparent background with minimal blur effect %>
  <div class="absolute inset-0 bg-gray-900/20 dark:bg-gray-950/30 backdrop-blur-[1px]"></div>

  <%# Spinner container %>
  <div class="relative z-10 flex flex-col items-center justify-center gap-4 p-6">
    <%# Animated spinner %>
    <div class="relative">
      <%# Outer rotating ring %>
      <div class="w-16 h-16 border-4 border-blue-200 dark:border-blue-900 rounded-full"></div>

      <%# Inner rotating segment %>
      <div class="absolute top-0 left-0 w-16 h-16 border-4 border-transparent border-t-blue-600 dark:border-t-blue-400 rounded-full animate-spin"></div>
    </div>

    <%# Loading text %>
    <div class="text-white dark:text-gray-200 font-medium text-lg tracking-wide">
      <%= t('loading.please_wait', default: 'UÄitavanje...') %>
    </div>

    <%# Optional: Animated dots %>
    <div class="flex gap-1">
      <span class="w-2 h-2 bg-blue-500 rounded-full animate-bounce" style="animation-delay: 0ms;"></span>
      <span class="w-2 h-2 bg-blue-500 rounded-full animate-bounce" style="animation-delay: 150ms;"></span>
      <span class="w-2 h-2 bg-blue-500 rounded-full animate-bounce" style="animation-delay: 300ms;"></span>
    </div>
  </div>
</div>
